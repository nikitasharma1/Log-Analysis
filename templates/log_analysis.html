<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="initial-scale=1, width=device-width">
	<title>Log Analysis</title>
	<!-- Normalize CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css">
	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<!-- Custom CSS -->
	<!-- <link rel="stylesheet" href="{{ url_for('static', filename = 'css/style.css') }}"> -->
</head>
<body>
	<header class="container">
		<div class="row">
			<div class="col-md-12">
				<h1 class="text-center">Log Analysis</h1>
			</div>
		</div>
	</header>
	<main class="container">
		<div class="row">
			<!-- To display top 3 articles (i.e. most viewed) -->
			<div class="col-md-12">
				<table class="table table-striped">
					<caption><h4>Top 3 Articles</h4></caption>
					<thead>
						<tr>
							<th>Title</th>
							<th>Views</th>
						</tr>
					</thead>
					<tbody>
						{% for log in article_logs %}
						<tr>
							<td>{{log[0]}}</td>
							<td>{{log[1]}}</td>
						</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
			<!-- To display top authors (i.e. most viewed) -->
			<div class="col-md-12">
				<table class="table table-striped">
					<caption><h4>Top Authors</h4></caption>
					<thead>
						<tr>
							<th>Name</th>
							<th>Views</th>
						</tr>
					</thead>
					<tbody>
						{% for log in author_logs %}
						<tr>
							<td>{{log[0]}}</td>
							<td>{{log[1]}}</td>
						</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
			<!-- To display the days when error requests were more than one percent -->
			<div class="col-md-12">
				<table class="table table-striped">
					<caption><h4>Error requests greater than one percent</h4></caption>
					<thead>
						<tr>
							<th>Day</th>
							<th>Errors</th>
							<th>Total Requests</th>
							<th>Error Percentage</th>
						</tr>
					</thead>
					<tbody>
						{% for log in error_logs %}
						<tr>
							<td>{{log[0]}}</td>
							<td>{{log[1]}}</td>
							<td>{{log[2]}}</td>
							<td>{{'%.2f' % log[3]}} %</td>
						</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
		</main>
	</div>
</body>
</html>